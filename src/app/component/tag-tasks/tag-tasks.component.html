<mat-card>
  <div class="mat-card-header">
    <div class="mat-card-title">
      <form *ngIf="titleEditing">
        <mat-form-field>
          <label>
            <input matInput
                   #title
                   name="title"
                   type="text"
                   [(ngModel)]="tagFormModel.name"
                   (blur)="onTitleInputBlur()"
                   (keydown.enter)="onTitleInputEnterKeydown()"
                   placeholder="{{ 'tag_name' | translate }}"
                   maxlength="50"
                   required
                   notBlank/>
          </label>
        </mat-form-field>
      </form>

      <span *ngIf="!titleEditing" (click)="onTitleTextClick()" class="title-text">{{ tagFormModel?.name }}</span>
    </div>

    <div class="card-header-menu">
      <button mat-icon-button aria-label="Tag menu" [matMenuTriggerFor]="tagMenu">
        <mat-icon>more_vert</mat-icon>
      </button>

      <mat-menu #tagMenu="matMenu">
        <button mat-menu-item (click)="onChangeColorButtonClick()">{{ 'change_color' | translate }}</button>
        <button mat-menu-item (click)="onDeleteTagButtonClick()">{{ 'delete' | translate }}</button>
      </mat-menu>
    </div>
  </div>

  <mat-card-content>
    <app-tasks [tasks]="tasks" (taskListScroll)="onTaskListScroll()"></app-tasks>
  </mat-card-content>
</mat-card>
